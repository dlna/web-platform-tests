<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Manual-player instantiation example</title>

    <script src="app/lib/dashjs/dash.debug.js"></script>
    <!--dash.all.min.js should be used in production over dash.all.debug.js
        Debug files are not compressed or obfuscated making the file size much larger compared with dash.all.min.js-->
    <!--<script src="app/lib/dashjs/dash.all.js"></script>-->

    <script>
        function init() {
            var video,
                player, context,
                url = "/drm-tests/content/O-DASH_AVC_MP4_SD-DRM-02/O-DASH_AVC_MP4_SD-DRM-02.mpd",
                protData = {
                    "com.widevine.alpha":{
                        "drmtoday":true,
                        "serverURL":"https://lic.staging.drmtoday.com/license-proxy-widevine/cenc/",
                        "httpRequestHeaders":{
                            "dt-custom-data":"eyJ1c2VySWQiOiJ0ZXN0dXNlciIsInNlc3Npb25JZCI6ImV5SmhkWFJvSWpvaU1USXpJaXdpYjNabGNtbGtaU0k2ZXlKd2NtOW1hV3hsSWpwN0luSmxiblJoYkNJNmV5SmhZbk52YkhWMFpVVjRjR2x5WVhScGIyNGlPaUl5TURFMExUQTNMVEU0VkRFeU9qRTFPakkwV2lJc0luQnNZWGxFZFhKaGRHbHZiaUk2TXpZd01EQXdmWDE5ZlE9PSIsIm1lcmNoYW50IjoiZ2xvYmFsX2RubGEifQ=="
                        }
                    },
                    "com.microsoft.playready":{
                        "drmtoday":true,
                        "serverURL":"https://lic.staging.drmtoday.com/license-proxy-headerauth/drmtoday/RightsManager.asmx",
                        "httpRequestHeaders":{
                            "http-header-CustomData":"eyJ1c2VySWQiOiJ0ZXN0dXNlciIsInNlc3Npb25JZCI6ImV5SmhkWFJvSWpvaU1USXpJaXdpYjNabGNtbGtaU0k2ZXlKd2NtOW1hV3hsSWpwN0luSmxiblJoYkNJNmV5SmhZbk52YkhWMFpVVjRjR2x5WVhScGIyNGlPaUl5TURFMExUQTNMVEU0VkRFeU9qRTFPakkwV2lJc0luQnNZWGxFZFhKaGRHbHZiaUk2TXpZd01EQXdmWDE5ZlE9PSIsIm1lcmNoYW50IjoiZ2xvYmFsX2RubGEifQ=="
                        }
                    }
                };

            video = document.querySelector("video");

            context = new Dash.di.DashContext();
            player = new MediaPlayer(context);
            player.startup();
            player.attachView(video);
            player.attachVideoContainer(document.getElementById("videoContainer"));
            player.setAutoPlay(true);
            player.attachSource(url, null, protData);
            player.setAutoSwitchQuality(true);
        }
    </script>

    <style>
        video {
            width: 640px;
            height: 360px;
            align: center;
        }
    </style>

    <body onload="init()">
        <div id="title">Simple DRM content playback</div>
        <div id="videoContainer">
            <video controls="true">
            </video>
        </div>
    </body>
</html>
